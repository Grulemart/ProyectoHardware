


ARM Macro Assembler    Page 1 


    1 00000000         
    2 00000000         ;  4 argumentos:
    3 00000000         ; r0 t
    4 00000000         ; r1 fila
    5 00000000         ; r2 columna 
    6 00000000         ; r3 color
    7 00000000         
    8 00000000         ;  Variables locales:
    9 00000000         ; r4 deltas_fila[i] 
   10 00000000         ; r5 deltas_columna[i]
   11 00000000         ; r6 i
   12 00000000         ; r7 linea
   13 00000000         ; r8 long_linea
   14 00000000         
   15 00000000                 PRESERVE8
   16 00000000                 AREA             Datos, DATA, READWRITE
   17 00000000         
   18 00000000 00000004 
                       N_DELTAS
                               EQU              4
   19 00000000 00000001 
                       TRUE    EQU              1
   20 00000000 00000000 
                       FALSE   EQU              0
   21 00000000         
   22 00000000 00000000 
              FFFFFFFF 
              FFFFFFFF 
              00000001 deltas_fila
                               DCD              0,-1,-1,1
   23 00000010 FFFFFFFF 
              00000000 
              FFFFFFFF 
              FFFFFFFF deltas_columna
                               DCD              -1,0,-1,-1
   24 00000020         
   25 00000020                 AREA             Codigo, CODE, READONLY
   26 00000000         
   27 00000000                 IMPORT           conecta_K_buscar_alineamiento_c
   28 00000000                 EXPORT           conecta_K_hay_linea_arm_c
   29 00000000         
   30 00000000         conecta_K_hay_linea_arm_c
   31 00000000 E92D4FF0        push{r4-r11,lr}              ; Guardamos los reg
                                                            istros preservados
   32 00000004         
   33 00000004         
   34 00000004 E3A06000        mov              r6, #0      ; i = 0
   35 00000008         
   36 00000008 E3A04004        mov              r4, #N_DELTAS ; i < N_DELTAS
   37 0000000C E1560004 
                       FOR     cmp              r6, r4
   38 00000010 AA000017        bge              NOT_FOUND
   39 00000014         ;cmp r8, #FALSE
   40 00000014         ;bne NOT_FOUND
   41 00000014         
   42 00000014 E59F5068        ldr              r5, =deltas_fila
   43 00000018 E7954006        ldr              r4, [r5, r6] ; r4 = deltas_fila
                                                            [i]
   44 0000001C E59F5064        ldr              r5, =deltas_columna



ARM Macro Assembler    Page 2 


   45 00000020 E7955006        ldr              r5, [r5, r6] ; r5 = deltas_colu
                                                            mna[i]
   46 00000024         
   47 00000024 E92D003F        push{r0-r5}                  ; Guardamos t y pas
                                                            amos los argumentos
                                                             por la pila
   48 00000028         
   49 00000028 EBFFFFFE        bl               conecta_K_buscar_alineamiento_c
   50 0000002C         
   51 0000002C E1A08000        mov              r8, r0      ; long_linea = cone
                                                            cta_k_buscar_alinea
                                                            miento_c(...)
   52 00000030 E8BD003F        pop{r0-r5}                   ; Recuperamos t y l
                                                            os argumnetos
   53 00000034 E1580004        cmp              r8, r4      ; long_linea >= N_D
                                                            ELTAS
   54 00000038 AA00000F        bge              FOUND
   55 0000003C         
   56 0000003C E0411004        sub              r1,r1,r4    ; fila-deltas_fila[
                                                            i]
   57 00000040 E0422005        sub              r2,r2,r5    ; columna-deltas_co
                                                            lumna[i]
   58 00000044         
   59 00000044 E7959007        ldr              r9, [r5, r7] ; r9 = deltas_fila
                                                            [i]
   60 00000048 E795A007        ldr              r10, [r5, r7] ; r10 = deltas_co
                                                            lumna[i]
   61 0000004C E04A908A        sub              r9, r10, r10, lsl #1 ; r9 = -r9
                                                            
   62 00000050 E04BA08B        sub              r10, r11, r11, lsl #1 
                                                            ; r10 = -r10
   63 00000054 E92D061F        push             {r0-r4, r9, r10} ; Guardamos ar
                                                            gumentos no preserv
                                                            ados
   64 00000058 EBFFFFFE        bl               conecta_K_buscar_alineamiento_c
   65 0000005C E0899000        add              r9, r9, r0  ; long_linea + cone
                                                            cta_k_buscar_alinea
                                                            miento_c(...)
   66 00000060 E8BD061F        pop              {r0-r4, r9, r10} 
                                                            ; Recuperamos t
   67 00000064 E1590004        cmp              r9, r4
   68 00000068 AA000003        bge              FOUND
   69 0000006C         
   70 0000006C E2877001        add              r7, r7, #1  ; ++i
   71 00000070 EAFFFFE5        b                FOR
   72 00000074         
   73 00000074 E3A08000 
                       NOT_FOUND
                               mov              r8, #FALSE
   74 00000078 EA000000        b                DONE
   75 0000007C         
   76 0000007C E3A08001 
                       FOUND   mov              r8, #TRUE
   77 00000080         
   78 00000080 E8BD8FF0 
                       DONE    pop              {r4-r11,pc}
   79 00000084         
   80 00000084                 END
              00000000 



ARM Macro Assembler    Page 3 


              00000000 
Command Line: --debug --xref --diag_suppress=9931 --apcs=interwork --depend=.\o
bjects\conecta_k_hay_linea_c_arm_file.d -o.\objects\conecta_k_hay_linea_c_arm_f
ile.o -IC:\Keil_v5\ARM\RV31\INC -IC:\Keil_v5\ARM\CMSIS\Include -IC:\Keil_v5\ARM
\INC\Philips --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 52
6" --list=.\listings\conecta_k_hay_linea_c_arm_file.lst conecta_K_hay_linea_c_a
rm_file.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

Datos 00000000

Symbol: Datos
   Definitions
      At line 16 in file conecta_K_hay_linea_c_arm_file.s
   Uses
      None
Comment: Datos unused
deltas_columna 00000010

Symbol: deltas_columna
   Definitions
      At line 23 in file conecta_K_hay_linea_c_arm_file.s
   Uses
      At line 44 in file conecta_K_hay_linea_c_arm_file.s
Comment: deltas_columna used once
deltas_fila 00000000

Symbol: deltas_fila
   Definitions
      At line 22 in file conecta_K_hay_linea_c_arm_file.s
   Uses
      At line 42 in file conecta_K_hay_linea_c_arm_file.s
Comment: deltas_fila used once
3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

Codigo 00000000

Symbol: Codigo
   Definitions
      At line 25 in file conecta_K_hay_linea_c_arm_file.s
   Uses
      None
Comment: Codigo unused
DONE 00000080

Symbol: DONE
   Definitions
      At line 78 in file conecta_K_hay_linea_c_arm_file.s
   Uses
      At line 74 in file conecta_K_hay_linea_c_arm_file.s
Comment: DONE used once
FOR 0000000C

Symbol: FOR
   Definitions
      At line 37 in file conecta_K_hay_linea_c_arm_file.s
   Uses
      At line 71 in file conecta_K_hay_linea_c_arm_file.s
Comment: FOR used once
FOUND 0000007C

Symbol: FOUND
   Definitions
      At line 76 in file conecta_K_hay_linea_c_arm_file.s
   Uses
      At line 54 in file conecta_K_hay_linea_c_arm_file.s
      At line 68 in file conecta_K_hay_linea_c_arm_file.s

NOT_FOUND 00000074

Symbol: NOT_FOUND
   Definitions
      At line 73 in file conecta_K_hay_linea_c_arm_file.s
   Uses
      At line 38 in file conecta_K_hay_linea_c_arm_file.s
Comment: NOT_FOUND used once
conecta_K_hay_linea_arm_c 00000000

Symbol: conecta_K_hay_linea_arm_c
   Definitions
      At line 30 in file conecta_K_hay_linea_c_arm_file.s
   Uses
      At line 28 in file conecta_K_hay_linea_c_arm_file.s
Comment: conecta_K_hay_linea_arm_c used once
6 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

FALSE 00000000

Symbol: FALSE
   Definitions
      At line 20 in file conecta_K_hay_linea_c_arm_file.s
   Uses
      At line 73 in file conecta_K_hay_linea_c_arm_file.s
Comment: FALSE used once
N_DELTAS 00000004

Symbol: N_DELTAS
   Definitions
      At line 18 in file conecta_K_hay_linea_c_arm_file.s
   Uses
      At line 36 in file conecta_K_hay_linea_c_arm_file.s
Comment: N_DELTAS used once
TRUE 00000001

Symbol: TRUE
   Definitions
      At line 19 in file conecta_K_hay_linea_c_arm_file.s
   Uses
      At line 76 in file conecta_K_hay_linea_c_arm_file.s
Comment: TRUE used once
3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

conecta_K_buscar_alineamiento_c 00000000

Symbol: conecta_K_buscar_alineamiento_c
   Definitions
      At line 27 in file conecta_K_hay_linea_c_arm_file.s
   Uses
      At line 49 in file conecta_K_hay_linea_c_arm_file.s
      At line 64 in file conecta_K_hay_linea_c_arm_file.s

1 symbol
347 symbols in table
