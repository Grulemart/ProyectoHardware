


ARM Macro Assembler    Page 1 


    1 00000000         
    2 00000000         ;  4 argumentos:
    3 00000000         ; r0 t
    4 00000000         ; r1 fila
    5 00000000         ; r2 columna 
    6 00000000         ; r3 color
    7 00000000         
    8 00000000         ;  Variables locales:
    9 00000000         ; r4 deltas_fila[i] 
   10 00000000         ; r5 deltas_columna[i]
   11 00000000         ; r6 i
   12 00000000         ; r7 linea
   13 00000000         ; r8 long_linea
   14 00000000         ; r9 direcion deltas_fila
   15 00000000         ; r10 direccion deltas_columna
   16 00000000         
   17 00000000                 PRESERVE8
   18 00000000                 AREA             Datos, DATA, READWRITE
   19 00000000         
   20 00000000 00000004 
                       K_SIZE  EQU              4
   21 00000000 00000004 
                       N_DELTAS
                               EQU              4
   22 00000000 00000001 
                       TRUE    EQU              1
   23 00000000 00000000 
                       FALSE   EQU              0
   24 00000000         
   25 00000000 00000000 
              FFFFFFFF 
              FFFFFFFF 
              00000001 deltas_fila
                               DCD              0,-1,-1,1
   26 00000010 FFFFFFFF 
              00000000 
              FFFFFFFF 
              FFFFFFFF deltas_columna
                               DCD              -1,0,-1,-1
   27 00000020         
   28 00000020         
   29 00000020         
   30 00000020                 AREA             Codigo, CODE, READONLY
   31 00000000                 IMPORT           conecta_K_buscar_alineamiento_c
   32 00000000         
   33 00000000                 EXPORT           conecta_K_hay_linea_arm_c
   34 00000000         
   35 00000000         
   36 00000000         
   37 00000000 E92D47F0 
                       conecta_K_hay_linea_arm_c
                               push{r4-r10,lr}              ; Guardamos los reg
                                                            istros preservados
   38 00000004         
   39 00000004 E3A06000        mov              r6, #0      ; i = 0
   40 00000008 E3A07000        mov              r7, #FALSE  ; linea = false
   41 0000000C E59F9080        ldr              r9, =deltas_fila
   42 00000010 E59FA080        ldr              r10,= deltas_columna
   43 00000014         



ARM Macro Assembler    Page 2 


   44 00000014 E3570000 
                       for     cmp              r7, #FALSE  ; linea == FALSE
   45 00000018 1A00001B        bne              found
   46 0000001C E3560004        cmp              r6, #N_DELTAS ; i < N_DELTAS
   47 00000020 AA000017        bge              not_found
   48 00000024         
   49 00000024 E7994106        ldr              r4, [r9, r6, lsl #2] ; r4 = del
                                                            tas_fila[i] 
   50 00000028 E79A5106        ldr              r5, [r10, r6, lsl #2] ; r5 = de
                                                            ltas_columna[i]
   51 0000002C         
   52 0000002C E92D000F        push{r0-r3}                  ; Guardamos registr
                                                            os no preservados
   53 00000030 E92D0030        push{r4,r5}                  ; Pasamos los argum
                                                            entos restantes por
                                                             la pila
   54 00000034         
   55 00000034 EBFFFFFE        bl               conecta_K_buscar_alineamiento_c
   56 00000038         
   57 00000038 E1A08000        mov              r8, r0      ; long_linea = cone
                                                            cta_k_buscar_alimen
                                                            to_c(...)
   58 0000003C E8BD0030        pop{r4,          r5}         ; Recuperamos delta
                                                            s_fila y deltas_col
                                                            umna
   59 00000040 E8BD000F        pop{r0-r3}                   ; Recuperamos los r
                                                            egistros no preserv
                                                            ados
   60 00000044 E3580004        cmp              r8, #K_SIZE ; long_linea >= K_S
                                                            IZE
   61 00000048 AA00000F        bge              found
   62 0000004C         
   63 0000004C         
   64 0000004C         
   65 0000004C E0444084        sub              r4, r4, r4, lsl #1 ; r9 = -r4
   66 00000050 E0455085        sub              r5, r5, r5, lsl #1 ; r10 = -r5
   67 00000054 E92D000F        push             {r0-r3}     ; Guardamos argumen
                                                            tos no preservados
   68 00000058 E92D0030        push             {r4, r5}    ; Pasamos los argum
                                                            entos por la pila
   69 0000005C         
   70 0000005C E0811004        add              r1,r1,r4    ; r1 = fila-deltas_
                                                            fila[i]
   71 00000060 E0822005        add              r2,r2,r5    ; r2 = columna-delt
                                                            as_columna[i]
   72 00000064         
   73 00000064 EBFFFFFE        bl               conecta_K_buscar_alineamiento_c
   74 00000068         
   75 00000068 E0888000        add              r8, r8, r0  ; long_linea + cone
                                                            cta_k_buscar_alimen
                                                            to_c(...)
   76 0000006C E28DD008        add              SP, SP, #8  ; Quitamos de la pi
                                                            la r4,r5 que se pas
                                                            aron como argumento
                                                            s
   77 00000070         ; No hacemos pop por que no se necesitan
   78 00000070 E8BD000F        pop              {r0-r3}     ; Recuperamos los r
                                                            egistros no preserv
                                                            ados



ARM Macro Assembler    Page 3 


   79 00000074 E3580004        cmp              r8, #K_SIZE ; long_linea >= K_S
                                                            IZE
   80 00000078 AA000003        bge              found
   81 0000007C         
   82 0000007C E2866001        add              r6, r6, #1  ; ++i
   83 00000080 EAFFFFE3        b                for
   84 00000084         
   85 00000084 E3A00000 
                       not_found
                               mov              r0, #FALSE
   86 00000088 EA000000        b                done
   87 0000008C         
   88 0000008C E3A00001 
                       found   mov              r0, #TRUE
   89 00000090         
   90 00000090 E8BD87F0 
                       done    pop              {r4-r10,pc}
   91 00000094         
   92 00000094                 END
              00000000 
              00000000 
Command Line: --debug --xref --diag_suppress=9931 --apcs=interwork --depend=.\o
bjects\conecta_k_hay_linea_arm_c_file.d -o.\objects\conecta_k_hay_linea_arm_c_f
ile.o -IC:\Keil_v5\ARM\RV31\INC -IC:\Keil_v5\ARM\CMSIS\Include -IC:\Keil_v5\ARM
\INC\Philips --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 52
6" --list=.\listings\conecta_k_hay_linea_arm_c_file.lst conecta_K_hay_linea_arm
_c_file.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

Datos 00000000

Symbol: Datos
   Definitions
      At line 18 in file conecta_K_hay_linea_arm_c_file.s
   Uses
      None
Comment: Datos unused
deltas_columna 00000010

Symbol: deltas_columna
   Definitions
      At line 26 in file conecta_K_hay_linea_arm_c_file.s
   Uses
      At line 42 in file conecta_K_hay_linea_arm_c_file.s
Comment: deltas_columna used once
deltas_fila 00000000

Symbol: deltas_fila
   Definitions
      At line 25 in file conecta_K_hay_linea_arm_c_file.s
   Uses
      At line 41 in file conecta_K_hay_linea_arm_c_file.s
Comment: deltas_fila used once
3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

Codigo 00000000

Symbol: Codigo
   Definitions
      At line 30 in file conecta_K_hay_linea_arm_c_file.s
   Uses
      None
Comment: Codigo unused
conecta_K_hay_linea_arm_c 00000000

Symbol: conecta_K_hay_linea_arm_c
   Definitions
      At line 37 in file conecta_K_hay_linea_arm_c_file.s
   Uses
      At line 33 in file conecta_K_hay_linea_arm_c_file.s
Comment: conecta_K_hay_linea_arm_c used once
done 00000090

Symbol: done
   Definitions
      At line 90 in file conecta_K_hay_linea_arm_c_file.s
   Uses
      At line 86 in file conecta_K_hay_linea_arm_c_file.s
Comment: done used once
for 00000014

Symbol: for
   Definitions
      At line 44 in file conecta_K_hay_linea_arm_c_file.s
   Uses
      At line 83 in file conecta_K_hay_linea_arm_c_file.s
Comment: for used once
found 0000008C

Symbol: found
   Definitions
      At line 88 in file conecta_K_hay_linea_arm_c_file.s
   Uses
      At line 45 in file conecta_K_hay_linea_arm_c_file.s
      At line 61 in file conecta_K_hay_linea_arm_c_file.s
      At line 80 in file conecta_K_hay_linea_arm_c_file.s

not_found 00000084

Symbol: not_found
   Definitions
      At line 85 in file conecta_K_hay_linea_arm_c_file.s
   Uses
      At line 47 in file conecta_K_hay_linea_arm_c_file.s
Comment: not_found used once
6 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

FALSE 00000000

Symbol: FALSE
   Definitions
      At line 23 in file conecta_K_hay_linea_arm_c_file.s
   Uses
      At line 40 in file conecta_K_hay_linea_arm_c_file.s
      At line 44 in file conecta_K_hay_linea_arm_c_file.s
      At line 85 in file conecta_K_hay_linea_arm_c_file.s

K_SIZE 00000004

Symbol: K_SIZE
   Definitions
      At line 20 in file conecta_K_hay_linea_arm_c_file.s
   Uses
      At line 60 in file conecta_K_hay_linea_arm_c_file.s
      At line 79 in file conecta_K_hay_linea_arm_c_file.s

N_DELTAS 00000004

Symbol: N_DELTAS
   Definitions
      At line 21 in file conecta_K_hay_linea_arm_c_file.s
   Uses
      At line 46 in file conecta_K_hay_linea_arm_c_file.s
Comment: N_DELTAS used once
TRUE 00000001

Symbol: TRUE
   Definitions
      At line 22 in file conecta_K_hay_linea_arm_c_file.s
   Uses
      At line 88 in file conecta_K_hay_linea_arm_c_file.s
Comment: TRUE used once
4 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

conecta_K_buscar_alineamiento_c 00000000

Symbol: conecta_K_buscar_alineamiento_c
   Definitions
      At line 31 in file conecta_K_hay_linea_arm_c_file.s
   Uses
      At line 55 in file conecta_K_hay_linea_arm_c_file.s
      At line 73 in file conecta_K_hay_linea_arm_c_file.s

1 symbol
348 symbols in table
