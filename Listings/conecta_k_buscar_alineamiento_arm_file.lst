


ARM Macro Assembler    Page 1 


    1 00000000         
    2 00000000         ; Autor Álvaro López y Pablo Terés Pueyo
    3 00000000         
    4 00000000         ;   6 argumnentos:
    5 00000000         ;    r0 t
    6 00000000         ;    r1 fila
    7 00000000         ;    r2 columna
    8 00000000         ;    r3 color
    9 00000000         ;    r4 delta_fila
   10 00000000         ;    r5 delta_columna
   11 00000000         
   12 00000000         ;  Otros registros usados:
   13 00000000         ; r6 = col
   14 00000000         ; r7 = t->columnas[fila][col]
   15 00000000         ; r8 = t->no_ceros[fila][col]
   16 00000000         ; r9 = t->no_ceros[fila][col] == color
   17 00000000         ; r10 = Dirrecion de la fia
   18 00000000         
   19 00000000                 PRESERVE8
   20 00000000                 AREA             datos, DATA, READWRITE
   21 00000000         
   22 00000000 00000001 
                       ERROR   EQU              1
   23 00000000 00000000 
                       EXITO   EQU              0
   24 00000000         
   25 00000000 00000007 
                       MAX_FILA
                               EQU              7
   26 00000000 00000007 
                       MAX_COLUMNA
                               EQU              7
   27 00000000 00000006 
                       MAX_NO_CERO
                               EQU              6
   28 00000000         
   29 00000000 00000031 
                       MAX_TAMANYO_T_COLUMNAS
                               EQU              49
   30 00000000         
   31 00000000                 AREA             codigo, CODE
   32 00000000                 EXPORT           conecta_K_buscar_alineamiento_a
rm
   33 00000000         
   34 00000000 E59D4018 
                       conecta_K_buscar_alineamiento_arm
                               ldr              r4, [SP, #24] ; Cogemos de la p
                                                            ila el argumento de
                                                            lta_fila
   35 00000004 E59D501C        ldr              r5, [SP, #28] ; Cogemos de la p
                                                            ila el argumento de
                                                            lta_culumna
   36 00000008         
   37 00000008         ; Funcion tablero_buscar_color 
   38 00000008 E3510007        cmp              r1, #MAX_FILA
   39 0000000C CA000015        bgt              ERRORTAG
   40 00000010 E3520007        cmp              r2, #MAX_COLUMNA
   41 00000014 CA000013        bgt              ERRORTAG
   42 00000018         



ARM Macro Assembler    Page 2 


   43 00000018 E3A06000        mov              r6,#0       ; col = 0
   44 0000001C E3560006 
                       FOR     cmp              r6, #MAX_NO_CERO
   45 00000020 AA000006        bge              DONE
   46 00000024         
   47 00000024 E0070291        mul              r7, r1, r2
   48 00000028 E0877006        add              r7, r7, r6
   49 0000002C E7907107        ldr              r7, [r0, r7, LSL #2] ; Cargamos
                                                             en r7 el valor t->
                                                            columnas[fila][col]
                                                            
   50 00000030         ; ???
   51 00000030 E1570002        cmp              r7, r2      ; t->columnas[fila]
                                                            [col] != columna
   52 00000034 0A000001        beq              DONE
   53 00000038         
   54 00000038 E2866001        add              r6,r6,#1
   55 0000003C EAFFFFF6        b                FOR
   56 00000040         
   57 00000040         DONE
   58 00000040         ; ???
   59 00000040 E3560006        cmp              r6, #MAX_NO_CERO ; col == MAX_N
                                                            O_CERO
   60 00000044 0AFFFFFE        beq              ERROR
   61 00000048         
   62 00000048 E0070291        mul              r7, r1, r2
   63 0000004C E0877006        add              r7, r7, r6
   64 00000050 E2877031        add              r7, r7, #MAX_TAMANYO_T_COLUMNAS
   65 00000054 E7907107        ldr              r7, [r0, r7, LSL #2] ; Cargamos
                                                             en r8 el valor t->
                                                            no_ceros[fila][col]
                                                            
   66 00000058 E1570003        cmp              r7, r3      ; t->no_ceros[fila]
                                                            [col] == color
   67 0000005C 1AFFFFFE        bne              ERROR
   68 00000060         
   69 00000060 E3A09000        mov              r9, #EXITO
   70 00000064 EA000000        b                FIN
   71 00000068         
   72 00000068         ERRORTAG
   73 00000068 E3A09001        mov              r9, #ERROR
   74 0000006C         
   75 0000006C         ; Salimos de funcion tablero_buscar_color
   76 0000006C         
   77 0000006C E3590000 
                       FIN     cmp              r9, #EXITO
   78 00000070 1A000006        bne              RETORNO_0
   79 00000074 E0811004        add              r1, r1, r4  ; delta_fila + 1
   80 00000078 E0822005        add              r2, r2, r5  ; delta_columna + 1
                                                            
   81 0000007C         
   82 0000007C E92D03FF        push{r0-r9}
   83 00000080 EBFFFFFE        bl               conecta_K_buscar_alineamiento_a
rm
   84 00000084 E8BD03FF        pop{r0-r9}
   85 00000088         
   86 00000088 E2800001        add              r0, r0, #1  ; 1 + conecta_k_bus
                                                            car_alimento_arm 
   87 0000008C E8BD83F0        pop              {r4-r9, pc} ; Recuperamos regis



ARM Macro Assembler    Page 3 


                                                            tros
   88 00000090         
   89 00000090         RETORNO_0
   90 00000090 E3A00000        mov              r0, #0
   91 00000094 E8BD83F0        pop              {r4-r9,pc}  ; Recuperamos regis
                                                            tros
   92 00000098         
   93 00000098                 END
Command Line: --debug --xref --diag_suppress=9931 --apcs=interwork --depend=.\o
bjects\conecta_k_buscar_alineamiento_arm_file.d -o.\objects\conecta_k_buscar_al
ineamiento_arm_file.o -IC:\Keil_v5\ARM\RV31\INC -IC:\Keil_v5\ARM\CMSIS\Include 
-IC:\Keil_v5\ARM\INC\Philips --predefine="__EVAL SETA 1" --predefine="__UVISION
_VERSION SETA 526" --list=.\listings\conecta_k_buscar_alineamiento_arm_file.lst
 conecta_K_buscar_alineamiento_arm_file.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

datos 00000000

Symbol: datos
   Definitions
      At line 20 in file conecta_K_buscar_alineamiento_arm_file.s
   Uses
      None
Comment: datos unused
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

DONE 00000040

Symbol: DONE
   Definitions
      At line 57 in file conecta_K_buscar_alineamiento_arm_file.s
   Uses
      At line 45 in file conecta_K_buscar_alineamiento_arm_file.s
      At line 52 in file conecta_K_buscar_alineamiento_arm_file.s

ERRORTAG 00000068

Symbol: ERRORTAG
   Definitions
      At line 72 in file conecta_K_buscar_alineamiento_arm_file.s
   Uses
      At line 39 in file conecta_K_buscar_alineamiento_arm_file.s
      At line 41 in file conecta_K_buscar_alineamiento_arm_file.s

FIN 0000006C

Symbol: FIN
   Definitions
      At line 77 in file conecta_K_buscar_alineamiento_arm_file.s
   Uses
      At line 70 in file conecta_K_buscar_alineamiento_arm_file.s
Comment: FIN used once
FOR 0000001C

Symbol: FOR
   Definitions
      At line 44 in file conecta_K_buscar_alineamiento_arm_file.s
   Uses
      At line 55 in file conecta_K_buscar_alineamiento_arm_file.s
Comment: FOR used once
RETORNO_0 00000090

Symbol: RETORNO_0
   Definitions
      At line 89 in file conecta_K_buscar_alineamiento_arm_file.s
   Uses
      At line 78 in file conecta_K_buscar_alineamiento_arm_file.s
Comment: RETORNO_0 used once
codigo 00000000

Symbol: codigo
   Definitions
      At line 31 in file conecta_K_buscar_alineamiento_arm_file.s
   Uses
      None
Comment: codigo unused
conecta_K_buscar_alineamiento_arm 00000000

Symbol: conecta_K_buscar_alineamiento_arm
   Definitions
      At line 34 in file conecta_K_buscar_alineamiento_arm_file.s
   Uses
      At line 32 in file conecta_K_buscar_alineamiento_arm_file.s
      At line 83 in file conecta_K_buscar_alineamiento_arm_file.s




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

7 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

ERROR 00000001

Symbol: ERROR
   Definitions
      At line 22 in file conecta_K_buscar_alineamiento_arm_file.s
   Uses
      At line 60 in file conecta_K_buscar_alineamiento_arm_file.s
      At line 67 in file conecta_K_buscar_alineamiento_arm_file.s
      At line 73 in file conecta_K_buscar_alineamiento_arm_file.s

EXITO 00000000

Symbol: EXITO
   Definitions
      At line 23 in file conecta_K_buscar_alineamiento_arm_file.s
   Uses
      At line 69 in file conecta_K_buscar_alineamiento_arm_file.s
      At line 77 in file conecta_K_buscar_alineamiento_arm_file.s

MAX_COLUMNA 00000007

Symbol: MAX_COLUMNA
   Definitions
      At line 26 in file conecta_K_buscar_alineamiento_arm_file.s
   Uses
      At line 40 in file conecta_K_buscar_alineamiento_arm_file.s
Comment: MAX_COLUMNA used once
MAX_FILA 00000007

Symbol: MAX_FILA
   Definitions
      At line 25 in file conecta_K_buscar_alineamiento_arm_file.s
   Uses
      At line 38 in file conecta_K_buscar_alineamiento_arm_file.s
Comment: MAX_FILA used once
MAX_NO_CERO 00000006

Symbol: MAX_NO_CERO
   Definitions
      At line 27 in file conecta_K_buscar_alineamiento_arm_file.s
   Uses
      At line 44 in file conecta_K_buscar_alineamiento_arm_file.s
      At line 59 in file conecta_K_buscar_alineamiento_arm_file.s

MAX_TAMANYO_T_COLUMNAS 00000031

Symbol: MAX_TAMANYO_T_COLUMNAS
   Definitions
      At line 29 in file conecta_K_buscar_alineamiento_arm_file.s
   Uses
      At line 64 in file conecta_K_buscar_alineamiento_arm_file.s
Comment: MAX_TAMANYO_T_COLUMNAS used once
6 symbols
346 symbols in table
